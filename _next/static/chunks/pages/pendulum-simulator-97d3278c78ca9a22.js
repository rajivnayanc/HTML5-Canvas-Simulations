(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[311],{5847:(e,t,s)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/pendulum-simulator",function(){return s(8748)}])},8748:(e,t,s)=>{"use strict";let i,l,r,n;s.r(t),s.d(t,{default:()=>S});var a=s(4848),h=s(6540),o=s(1478),y=s.n(o);let d={x:0,y:10},x=400,c=1,u=e=>{let t=Math.sqrt(e.x*e.x+e.y*e.y);return e.x/=t,e.y/=t,e},p=e=>e*Math.PI/180,_=(e,t,s)=>{let i=Math.sin(e),l=Math.cos(e);t.x-=s.x,t.y-=s.y;let r=t.x*l-t.y*i,n=t.x*i+t.y*l;return t.x=r+s.x,t.y=n+s.y,t};class m{update(){let e={x:d.x-this.x,y:d.y-this.y,z:0},t={x:1*(e=u(e)).y-0*e.z,y:0*e.z-1*e.x},s=.1*(t=u(t)).y;t.x*=s,t.y*=s,this.speed+=s,this.speedDir.x=t.x,this.speedDir.y=t.y,this.speed*=c;let i=this.speed/x;this.theta+=i;let l=_(this.theta,{x:d.x,y:d.y+x},d);this.x=l.x,this.y=l.y}draw(){l.save(),l.strokeStyle="#ffffff",l.beginPath(),l.moveTo(this.x,this.y),l.lineTo(d.x,d.y),l.stroke(),l.restore(),l.save(),l.beginPath(),l.fillStyle=this.color,l.arc(this.x,this.y,this.r,0,2*Math.PI,!1),l.fill(),l.closePath(),l.restore(),l.save(),l.strokeStyle="#444",l.beginPath(),l.moveTo(this.x,this.y),l.lineTo(this.x+100*this.speedDir.x,this.y+100*this.speedDir.y),l.stroke(),l.restore(),l.save(),l.beginPath(),l.fillStyle="#CCC",l.arc(d.x,d.y,10,0,2*Math.PI,!1),l.fill(),l.closePath(),l.restore()}constructor(e,t,s,i,l,r){this.x=0,this.y=0,this.r=0,this.color="#0000FF",this.theta=60,this.speed=0,this.speedDir={x:0,y:0},this.theta=p(i);let n=_(this.theta,{x:d.x,y:d.y+x},d);this.x=n.x,this.y=n.y,this.r=s,this.color=l,this.speed=r}}let w=!1,f=!1,v=()=>{n&&clearTimeout(n),l=(i=document.getElementById(y().pendulumSimulator)).getContext("2d"),i.width=window.innerWidth,i.height=window.innerHeight,d={x:i.width/2,y:10},x=400,c=1,r=new m(100,200,75,-60,"#FF00FF",0),function e(){n=setTimeout(()=>{requestAnimationFrame(e),l.fillStyle="#222",l.fillRect(0,0,i.width,i.height),r.draw(),w||r.update(),clearTimeout(n)},1)}()},S=()=>{(0,h.useEffect)(()=>{v(),window.addEventListener("resize",v),window.addEventListener("mousedown",e=>{if(r){let t=e.clientX,s=e.clientY,i=(r.x-t)*(r.x-t)+(r.y-s)*(r.y-s);i<=r.r*r.r&&(w=!0),(i=(d.x-t)*(d.x-t)+(d.y-s)*(d.y-s))<=100&&(f=!0)}}),window.addEventListener("mousemove",e=>{if(r){if(w){let t=e.clientX,s=e.clientY;r.x=t,r.y=s,x=Math.sqrt((d.x-t)*(d.x-t)+(d.y-s)*(d.y-s)),r.speed=0,r.speedDir={x:0,y:0};let i={x:t-d.x,y:s-d.y};i=u(i),l.save(),l.strokeStyle="#444",l.beginPath(),l.moveTo(t,s),l.lineTo(t+100*i.x,s+100*i.y),l.stroke(),l.restore(),r.theta=Math.acos(i.y),t>d.x&&(r.theta*=-1)}if(f){let t=e.clientX,s=e.clientY;d.x=t,d.y=s;let i={x:r.x-t,y:r.y-s};i=u(i),r.theta=Math.acos(i.y),r.x>d.x&&(r.theta*=-1)}}}),window.addEventListener("mouseup",e=>{r&&(w=!1,f=!1)})});let e=(0,h.useRef)(1);return(0,a.jsx)("div",{className:y().container,children:(0,a.jsx)("div",{className:y().row,children:(0,a.jsxs)("div",{className:y()["col-canvas"],children:[(0,a.jsx)("button",{id:y().reset,onClick:v,children:"RESET"}),(0,a.jsx)("input",{id:y().dampValue,ref:e,type:"number",min:"0",max:"1",step:"0.01",placeholder:"friction u"}),(0,a.jsx)("button",{id:y().applyFriction,onClick:()=>{c=e.current.value},children:"Apply Friction"}),(0,a.jsx)("canvas",{id:y().pendulumSimulator})]})})})}},1478:e=>{e.exports={container:"styles_container__fP9S0",row:"styles_row__6nCuK","col-canvas":"styles_col-canvas__Swpcl",pendulumSimulator:"styles_pendulumSimulator__9SxCl",reset:"styles_reset__AQAWl",applyFriction:"styles_applyFriction__h2e_G",dampValue:"styles_dampValue__53zCd"}}},e=>{var t=t=>e(e.s=t);e.O(0,[636,593,792],()=>t(5847)),_N_E=e.O()}]);